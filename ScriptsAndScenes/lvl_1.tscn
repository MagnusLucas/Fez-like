[gd_scene load_steps=14 format=3 uid="uid://b3lvivi6ooeb7"]

[ext_resource type="MeshLibrary" uid="uid://dkjwbfrjn1hdo" path="res://MeshLib/mesh_library.tres" id="1_q4cwg"]
[ext_resource type="Script" uid="uid://b363upmfmhid" path="res://ScriptsAndScenes/map.gd" id="2_ogd5d"]
[ext_resource type="Script" uid="uid://sbliytswwjwo" path="res://ScriptsAndScenes/camera.gd" id="3_6yy2s"]
[ext_resource type="PackedScene" uid="uid://bynqkp5rcr2mr" path="res://ScriptsAndScenes/lighting.tscn" id="3_ogd5d"]
[ext_resource type="Script" uid="uid://d4caoct14id75" path="res://ScriptsAndScenes/debug_camera.gd" id="4_wu0vh"]
[ext_resource type="Script" uid="uid://cns18ivfei0ue" path="res://ScriptsAndScenes/2d_bg_sub_viewport.gd" id="5_ccj3h"]
[ext_resource type="Texture2D" uid="uid://dn6rhn8qcc3wq" path="res://Assets/Environment/2d_cloud_big.png" id="5_wo57b"]
[ext_resource type="PackedScene" uid="uid://biud0s3t8junj" path="res://ScriptsAndScenes/sky_node_2d.tscn" id="6_fr7lr"]

[sub_resource type="PlaneMesh" id="PlaneMesh_wo57b"]
size = Vector2(55.78, 32.74)

[sub_resource type="ViewportTexture" id="ViewportTexture_qeoxk"]
viewport_path = NodePath("2DBgSubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fr7lr"]
resource_local_to_scene = true
albedo_texture = SubResource("ViewportTexture_qeoxk")
metallic_specular = 0.0
emission = Color(0.17, 0.17, 0.17, 1)
texture_filter = 0

[sub_resource type="ViewportTexture" id="ViewportTexture_wo57b"]
viewport_path = NodePath("2DBgSubViewport")

[sub_resource type="ViewportTexture" id="ViewportTexture_xknmn"]
viewport_path = NodePath("2DBgSubViewport")

[node name="Map" type="GridMap"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, -0.5, -0.5)
mesh_library = ExtResource("1_q4cwg")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(65529, 65530, 0, 65529, 65531, 0, 65529, 65532, 0, 65529, 65533, 0, 65529, 65534, 0, 65529, 65535, 0, 65529, 0, 0, 65529, 1, 0, 65529, 2, 0, 65529, 3, 0, 65529, 4, 0, 65529, 5, 0, 65530, 65530, 0, 65530, 65531, 0, 65530, 65532, 0, 65530, 65533, 0, 65530, 65534, 0, 65530, 65535, 0, 65530, 0, 0, 65530, 1, 0, 65530, 2, 0, 65530, 3, 0, 65530, 4, 0, 65530, 5, 0, 65531, 65530, 0, 65531, 65531, 0, 65531, 65532, 0, 65531, 65535, 0, 65531, 0, 0, 65531, 1, 0, 65531, 2, 0, 65531, 3, 0, 65531, 4, 0, 65531, 5, 0, 65532, 65530, 0, 65532, 65531, 0, 65532, 65532, 0, 65532, 3, 0, 65532, 4, 0, 65532, 5, 0, 65533, 65530, 0, 65533, 65531, 0, 65533, 65532, 0, 65533, 3, 0, 65533, 4, 0, 65533, 5, 0, 65534, 65530, 0, 65534, 65531, 0, 65534, 65532, 0, 65534, 4, 0, 65534, 5, 0, 65535, 65530, 0, 65535, 65531, 0, 65535, 65532, 0, 65535, 4, 0, 65535, 5, 0, 0, 65530, 0, 0, 65531, 0, 0, 65532, 0, 0, 4, 0, 0, 5, 0, 1, 65530, 0, 1, 65531, 0, 1, 65532, 0, 1, 4, 0, 1, 5, 0, 2, 65531, 0, 2, 65532, 0, 2, 3, 0, 2, 4, 0, 2, 5, 0, 3, 65531, 6, 3, 65532, 6, 3, 65533, 6, 3, 65534, 6, 3, 65535, 6, 3, 0, 6, 3, 1, 6, 3, 2, 6, 3, 3, 6, 3, 4, 6, 3, 5, 6, 4, 65531, 6, 4, 65532, 6, 4, 65533, 6, 4, 65534, 6, 4, 65535, 6, 4, 0, 6, 4, 1, 6, 4, 2, 6, 4, 3, 6, 4, 4, 6, 4, 5, 6, 5, 65530, 7, 5, 65531, 7, 5, 65532, 7, 5, 65533, 6, 5, 65534, 6, 5, 65535, 6, 5, 0, 6, 5, 1, 6, 5, 2, 6, 5, 3, 6, 5, 4, 6, 5, 5, 6, 65536, 4, 3, 65534, 3, 0, 65535, 3, 0, 0, 3, 0, 1, 3, 0, 65531, 65533, 0, 65531, 65534, 0, 2, 2, 5, 2, 1, 5, 2, 0, 5, 2, 65535, 5, 2, 65534, 5, 2, 65533, 5, 1, 65533, 5, 0, 65533, 5, 65535, 65533, 5, 65534, 65533, 5, 65533, 65533, 5, 65532, 65533, 5, 65532, 65534, 5, 65532, 65535, 5, 65532, 0, 5, 65532, 1, 5, 65532, 2, 5, 65533, 2, 5, 65534, 2, 5, 65535, 2, 5, 0, 2, 5, 1, 2, 5, 1, 1, 5, 0, 1, 5, 0, 0, 5, 65535, 0, 5, 65535, 1, 5, 65534, 0, 5, 65534, 1, 5, 65533, 0, 5, 65533, 1, 5, 65533, 65535, 5, 65533, 65534, 5, 65534, 65534, 5, 65534, 65535, 5, 65535, 65534, 5, 0, 65535, 5, 1, 65534, 5, 1, 65535, 5, 1, 0, 5, 65535, 65535, 5, 0, 65534, 5, 2, 65530, 7, 3, 65530, 7, 4, 65530, 7, 65538, 1, 4, 65537, 1, 4, 65536, 1, 4, 65536, 2, 4, 131071, 2, 4, 65537, 2, 4, 65538, 2, 4, 65536, 0, 4, 65537, 0, 4, 65538, 0, 4, 65538, 65535, 4, 65538, 65534, 4, 65538, 65533, 4, 65537, 65533, 4, 65536, 65533, 4, 65536, 65534, 4, 65536, 65535, 4, 65537, 65535, 4, 65537, 65534, 4, 131070, 2, 5, 131069, 2, 5, 131068, 2, 5, 131068, 1, 5, 131069, 1, 5, 131070, 1, 5, 131071, 1, 5, 131071, 0, 5, 131071, 65535, 5, 131071, 65534, 5, 131071, 65533, 5, 131070, 65533, 5, 131069, 65533, 5, 131069, 65534, 5, 131068, 65534, 5, 131068, 65535, 5, 131068, 0, 5, 131069, 0, 5, 131070, 0, 5, 131070, 65535, 5, 131070, 65534, 5, 131069, 65535, 5, 131068, 65533, 5, 196606, 1, 5, 131073, 65535, 5, 131073, 65534, 5, 131073, 65533, 5, 131072, 65533, 5, 196607, 65533, 5, 196606, 65533, 5, 196606, 0, 5, 196606, 65535, 5, 196606, 65534, 5, 196607, 65534, 5, 131072, 65534, 5, 131072, 65535, 5, 196607, 65535, 5, 131072, 0, 5, 196607, 0, 5, 196607, 1, 5, 131072, 1, 5, 131073, 1, 5, 131073, 0, 5, 262142, 65533, 5, 262142, 65534, 5, 262142, 65535, 5, 262142, 0, 5, 262142, 1, 5, 262143, 1, 5, 196608, 1, 5, 196609, 1, 5, 262143, 65533, 5, 196608, 65533, 5, 196609, 65533, 5, 196609, 65534, 5, 196609, 65535, 5, 196609, 0, 5, 196608, 0, 5, 262143, 0, 5, 262143, 65535, 5, 262143, 65534, 5, 196608, 65534, 5, 196608, 65535, 5, 327678, 1, 5, 327678, 0, 5, 327678, 65535, 5, 327678, 65534, 5, 327678, 65533, 5, 327679, 65533, 5, 262144, 65533, 5, 262145, 65533, 5, 262145, 65534, 5, 262145, 65535, 5, 262145, 0, 5, 262145, 1, 5, 262144, 1, 5, 327679, 1, 5, 327679, 0, 5, 327679, 65535, 5, 327679, 65534, 5, 262144, 0, 5, 262144, 65535, 5, 262144, 65534, 5, 393214, 1, 5, 393214, 0, 5, 393214, 65535, 5, 393214, 65534, 5, 393214, 65533, 5, 393215, 65533, 5, 327680, 65533, 5, 327681, 65533, 655368, 327681, 65534, 5, 327681, 65535, 5, 327681, 0, 5, 327681, 1, 5, 327680, 1, 5, 393215, 1, 5, 393215, 0, 5, 393215, 65535, 5, 393215, 65534, 5, 327680, 0, 5, 327680, 65535, 5, 327680, 65534, 5, 393217, 1, 5, 393217, 0, 5, 393217, 65535, 5, 393217, 65534, 5, 393217, 65533, 5, 393216, 65533, 5, 393216, 65534, 5, 393216, 65535, 5, 393216, 0, 5, 393216, 1, 5, 458751, 65535, 5, 458751, 65534, 5, 458751, 65533, 5, 458750, 65533, 5, 131073, 2, 8, 196609, 2, 8, 196608, 2, 8, 196610, 1, 1048584, 262146, 1, 1048584, 262146, 0, 1048584, 327682, 0, 1048584, 327682, 65535, 1048584, 262146, 65535, 1048584, 262146, 65534, 1048584, 262146, 65533, 1048584, 327682, 65534, 1048584, 393218, 0, 1048584, 393217, 65532, 655368, 393216, 65532, 655368, 327680, 65532, 655368, 393215, 65532, 655368, 393214, 65532, 655368, 262145, 65532, 655368, 262144, 65532, 655368, 327679, 65532, 655368, 327678, 65532, 655368, 327677, 65533, 1441800, 327677, 65534, 1441800, 393213, 65533, 1441800, 393213, 65534, 1441800, 262141, 65534, 1441800, 196605, 65534, 1441800, 196605, 65533, 1441800, 196605, 65535, 1441800, 262141, 65535, 1441800, 262141, 0, 1441800, 262143, 2, 8, 327679, 2, 8, 262142, 2, 8, 196606, 2, 8, 65537, 3, 8, 131069, 3, 8, 6, 65534, 1048584, 6, 65531, 1048584)
}
script = ExtResource("2_ogd5d")
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Lighting" parent="." instance=ExtResource("3_ogd5d")]

[node name="CameraOrigin" type="Node3D" parent="."]
script = ExtResource("3_6yy2s")

[node name="Camera3D" type="Camera3D" parent="CameraOrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 23.119)
projection = 1
current = true
size = 30.0
far = 65.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="CameraOrigin"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -31.5871)
visible = false
mesh = SubResource("PlaneMesh_wo57b")
skeleton = NodePath("../Camera3D")
surface_material_override/0 = SubResource("StandardMaterial3D_fr7lr")

[node name="SkySprite3D" type="Sprite3D" parent="CameraOrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -32.2591)
pixel_size = 0.05
double_sided = false
texture_filter = 0
texture = SubResource("ViewportTexture_wo57b")

[node name="Sprite3D" type="Sprite3D" parent="CameraOrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.5972, 0, -23.3478)
texture = ExtResource("5_wo57b")

[node name="DebugCameraOrigin" type="Node3D" parent="."]
script = ExtResource("4_wu0vh")

[node name="DebugCamera" type="Camera3D" parent="DebugCameraOrigin"]
transform = Transform3D(0.6554, -0.377641, 0.654093, 0, 0.866025, 0.5, -0.755282, -0.3277, 0.567593, 6.20868, 4.78058, 9.82226)

[node name="2DBgSubViewport" type="SubViewport" parent="."]
disable_3d = true
size = Vector2i(1152, 648)
script = ExtResource("5_ccj3h")

[node name="SkyNode2D" parent="2DBgSubViewport" instance=ExtResource("6_fr7lr")]

[node name="SubViewportPreview" type="Sprite2D" parent="."]
visible = false
texture_filter = 1
texture = SubResource("ViewportTexture_xknmn")
centered = false
